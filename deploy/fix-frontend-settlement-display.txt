
// 前端修复建议：在 frontend/js/main.js 中

// 1. 在 updateBetHistory 函数中添加状态检查
async updateBetHistory() {
    // 如果当前是开奖状态，延迟更新
    if (this.gameState.status === 'drawing') {
        console.log('开奖中，延迟更新投注记录');
        return;
    }
    
    // 原有的更新逻辑...
}

// 2. 在游戏状态变更时控制显示
watch: {
    'gameState.status'(newStatus, oldStatus) {
        if (newStatus === 'drawing') {
            // 进入开奖阶段，隐藏最新的结算结果
            this.hideRecentSettlements = true;
        } else if (oldStatus === 'drawing' && newStatus === 'betting') {
            // 开奖结束，显示结算结果
            this.hideRecentSettlements = false;
            this.updateBetHistory(); // 更新投注记录
        }
    }
}
